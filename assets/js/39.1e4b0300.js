(window.webpackJsonp=window.webpackJsonp||[]).push([[39],{484:function(s,e,t){"use strict";t.r(e);var a=t(2),r=Object(a.a)({},(function(){var s=this,e=s.$createElement,t=s._self._c||e;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("p",[s._v("记录一下 Git 全局忽略 "),t("code",[s._v(".DS_Store")]),s._v(" 的设置。")]),s._v(" "),t("hr"),s._v(" "),t("p",[s._v("macOS 中每个文件夹下都存在一个 "),t("code",[s._v(".DS_Store")]),s._v(" 文件，是一种用来存储该文件夹下的文件图标位置属性、文件位置等元数据信息的系统文件。平时我们看不见 "),t("code",[s._v(".DS_Store")]),s._v("，它的存在也不影响使用，但是 Git 仓库会记录下它。有时候我根本没有修改任何文件，仅仅是移动了一下文件，打开 GitHub Desktop，就会提醒我 "),t("code",[s._v(".DS_Store")]),s._v(" 修改了，强迫症表示非常难受。同时，由于 "),t("code",[s._v(".DS_Store")]),s._v(" 会存储元数据，可能有一些信息在不经意间泄露出去，不太安全。")]),s._v(" "),t("p",[s._v("虽然可以单独在每个 Git 仓库新建 "),t("code",[s._v(".gitignore")]),s._v(" 文件来忽略 "),t("code",[s._v(".DS_Store")]),s._v("，但还是全局忽略来得直截了当一些。")]),s._v(" "),t("h2",{attrs:{id:"全局忽略-ds-store"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#全局忽略-ds-store"}},[s._v("#")]),s._v(" 全局忽略 "),t("code",[s._v(".DS_Store")])]),s._v(" "),t("p",[s._v("打开终端（Terminal），进入用户（Home）文件夹。")]),s._v(" "),t("ol",[t("li",[s._v("查看 Git 配置情况")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" config --list\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("默认输出结果应该是这样的：")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("credential.helper=osxkeychain\nfilter.lfs.clean=git-lfs clean -- %f\nfilter.lfs.smudge=git-lfs smudge -- %f\nfilter.lfs.process=git-lfs filter-process\nfilter.lfs.required=true\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("ol",{attrs:{start:"2"}},[t("li",[s._v("在用户文件夹下新建一个文件 "),t("code",[s._v(".gitignore_global")]),s._v("：")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("touch")]),s._v(" ~/.gitignore_global\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("或者手动新建也可以。")]),s._v(" "),t("ol",{attrs:{start:"3"}},[t("li",[s._v("修改 "),t("code",[s._v(".gitignore_global")]),s._v("，写入如下内容：")])]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v(".DS_Store\n**/.DS_Store\n.DS_Store?\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("p",[s._v("如果还需要忽略其他类型的文件，可以前往 "),t("a",{attrs:{href:"https://www.gitignore.io",target:"_blank",rel:"noopener noreferrer"}},[s._v("gitignore.io"),t("OutboundLink")],1),s._v(" 获取相应配置文件。")]),s._v(" "),t("ol",{attrs:{start:"4"}},[t("li",[s._v("对 Git 进行全局设置：")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" config --global core.excludesfile ~/.gitignore_global\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("然后就会发现 "),t("code",[s._v(".gitconfig")]),s._v(" 文件里增加了 2 行：")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("[core]\n\texcludesfile = /Users/[username]/.gitignore_global\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("这样，就将 "),t("code",[s._v(".DS_Store")]),s._v(" 加入了全局忽略列表。在这之后，Git 就会忽略电脑中所有的 "),t("code",[s._v(".DS_Store")]),s._v(" 文件，但是之前仓库里的 "),t("code",[s._v(".DS_Store")]),s._v(" 文件还在，需要进行删除。")]),s._v(" "),t("h2",{attrs:{id:"删除已有仓库中的-ds-store"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#删除已有仓库中的-ds-store"}},[s._v("#")]),s._v(" 删除已有仓库中的 "),t("code",[s._v(".DS_Store")])]),s._v(" "),t("p",[s._v("删除已有 Git 仓库中的 "),t("code",[s._v(".DS_Store")]),s._v(" 其实很简单，进入 Git 仓库，执行：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("find")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v(" -name .DS_Store -print0 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("xargs")]),s._v(" -0 "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" --ignore-unmatch\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("就会删除该目录下所有的 "),t("code",[s._v(".DS_Store")]),s._v(" 文件。比如我的博客仓库，输出结果就是这样的：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'docs/.DS_Store'")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'docs/.vuepress/.DS_Store'")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'docs/.vuepress/public/.DS_Store'")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'docs/.vuepress/public/assets/.DS_Store'")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'docs/.vuepress/public/assets/img/.DS_Store'")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'docs/.vuepress/public/images/.DS_Store'")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'docs/_posts/.DS_Store'")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'docs/about/.DS_Store'")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br")])]),t("p",[s._v("看见这个输出结果就很爽，不用一个一个手动删除，一下子就全部删除掉了，再也不用忍受烦人的 "),t("code",[s._v(".DS_Store")]),s._v(" 了！")]),s._v(" "),t("h2",{attrs:{id:"参考"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#参考"}},[s._v("#")]),s._v(" 参考")]),s._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"https://stackoverflow.com/questions/18393498/gitignore-all-the-ds-store-files-in-every-folder-and-subfolder",target:"_blank",rel:"noopener noreferrer"}},[s._v(".gitignore all the .DS_Store files in every folder and subfolder"),t("OutboundLink")],1)]),s._v(" "),t("li",[t("a",{attrs:{href:"https://orianna-zzo.github.io/sci-tech/2018-01/mac%E4%B8%ADgit%E5%BF%BD%E7%95%A5.ds_store%E6%96%87%E4%BB%B6/",target:"_blank",rel:"noopener noreferrer"}},[s._v("Mac 中 Git 忽略 .DS_Store 文件"),t("OutboundLink")],1)])])])}),[],!1,null,null,null);e.default=r.exports}}]);